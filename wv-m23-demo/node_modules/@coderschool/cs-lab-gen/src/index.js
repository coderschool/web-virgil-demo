const engine = require("./engine");

const runner = async (argv, config) => {
  const { logger, debug } = config;
  try {
    const actions = await engine(argv, config);
    return { success: true, actions, time: 0 };
  } catch (err) {
    logger.err(err.toString());
    if (debug) {
      logger.log("-".repeat(50));
      logger.err(err.stack);
      logger.log("-".repeat(50));
    }
    return { success: false, actions: [], time: 0 };
  }
};

module.exports = { runner };
